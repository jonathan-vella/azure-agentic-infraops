# Operations Runbook: Agent Testing Framework

**Version**: 1.0
**Date**: 2026-01-22
**Environment**: test
**Region**: swedencentral

---

## Quick Reference

| Item                | Value                               |
| ------------------- | ----------------------------------- |
| **Primary Region**  | swedencentral                       |
| **Resource Group**  | rg-agenttest-test-swc               |
| **Support Contact** | platform-engineering                |
| **Escalation Path** | N/A (test infrastructure)           |

### Critical Resources

| Resource       | Name                               | Resource Group          |
| -------------- | ---------------------------------- | ----------------------- |
| App Service    | app-test-agent-testing-swc-chw5en  | rg-agenttest-test-swc   |
| SQL Server     | sql-test-agent-testing-swc-chw5en  | rg-agenttest-test-swc   |
| Container Apps | ca-cae-test-agent-testi            | rg-agenttest-test-swc   |
| Static Web App | stapp-test-agent-testing-weu-chw5en| rg-agenttest-test-swc   |

---

## 1. Daily Operations

### 1.1 Health Checks

**Morning Health Check:**

1. ✅ Verify all resources provisioned successfully
2. ✅ Check App Service and Container Apps availability
3. ✅ Confirm SQL Server connectivity

**Azure CLI Health Check:**

```bash
# Check resource group status
az resource list --resource-group rg-agenttest-test-swc \
  --query "[].{name:name, state:provisioningState}" \
  --output table
```

### 1.2 Log Review

**Priority Logs to Review:**

| Log Source       | Query Focus                | Action Threshold |
| ---------------- | -------------------------- | ---------------- |
| App Service      | HTTP 5xx errors            | >5 per 5 min     |
| Container Apps   | Failed requests            | >10% failure     |
| SQL Database     | Connection failures        | Any              |

---

## 2. Incident Response

### 2.1 Severity Definitions

| Severity | Definition                       | Response Time |
| -------- | -------------------------------- | ------------- |
| P1       | Complete service outage          | 15 min        |
| P2       | Major functionality degraded     | 1 hour        |
| P3       | Minor impact, workaround exists  | 4 hours       |

### 2.2 Runbooks by Alert

| Alert                | Runbook                     | Owner                |
| -------------------- | --------------------------- | -------------------- |
| App Service down     | Restart App Service         | platform-engineering |
| SQL connection fail  | Check firewall rules        | platform-engineering |
| Container App crash  | Check logs, restart         | platform-engineering |

---

## 3. Common Procedures

### 3.1 Restart Services

```bash
# Restart App Service
az webapp restart --name app-test-agent-testing-swc-chw5en \
  --resource-group rg-agenttest-test-swc

# Restart Container App
az containerapp revision restart \
  --name ca-cae-test-agent-testi \
  --resource-group rg-agenttest-test-swc \
  --revision $(az containerapp revision list --name ca-cae-test-agent-testi \
    --resource-group rg-agenttest-test-swc --query "[0].name" -o tsv)
```

---

## 4. Maintenance Windows

| Window     | Schedule      | Activities                    |
| ---------- | ------------- | ----------------------------- |
| Weekly     | Sunday 02:00  | Review costs, check updates   |
| Monthly    | 1st Monday    | Security review, optimization |
| Quarterly  | N/A           | Not applicable (test infra)   |

---

## 5. Contacts & Escalation

| Role                  | Contact              | Escalation |
| --------------------- | -------------------- | ---------- |
| Primary               | platform-engineering | L1         |
| Infrastructure        | platform-engineering | L2         |
| Management            | N/A                  | L3         |

---

## 6. Change Log

| Date       | Change           | Author    |
| ---------- | ---------------- | --------- |
| 2026-01-22 | Initial creation | @docs     |

---

_Operations runbook generated by Workload Documentation Generator._
