
digraph AgenticInfraOps {
    // Graph settings - WIDESCREEN HORIZONTAL
    graph [
        bgcolor="#1a1a2e"
        fontcolor="white"
        fontname="Segoe UI, Arial, sans-serif"
        pad="0.8"
        splines="ortho"
        nodesep="0.5"
        ranksep="0.9"
        rankdir="LR"
        dpi="150"
        newrank="true"
    ]
    
    node [
        fontname="Segoe UI, Arial, sans-serif"
        fontsize="11"
        fontcolor="white"
        style="filled,rounded"
        shape="box"
        penwidth="0"
        margin="0.2,0.12"
    ]
    
    edge [
        color="#64748b"
        fontcolor="#94a3b8"
        fontname="Segoe UI, Arial, sans-serif"
        fontsize="9"
        penwidth="2"
        arrowsize="0.7"
    ]

    // ============================================
    // STEP 1: PLAN
    // ============================================
    step1 [
        label="1. Plan\n@plan"
        fillcolor="#0078D4"
        width="1.5"
    ]

    // ============================================
    // STEP 2: ARCHITECTURE
    // ============================================
    step2 [
        label="2. Architect\nazure-principal-architect"
        fillcolor="#FF6B35"
        width="2.4"
    ]

    // ============================================
    // STEP 3: DESIGN ARTIFACTS (Optional)
    // ============================================
    step3 [
        label="3. Design Artifacts\n(optional)"
        fillcolor="#8b5cf6"
        width="2.0"
        style="filled,rounded,dashed"
    ]
    
    step3a [
        label="ðŸ“Š -des diagram\ndiagram-generator"
        fillcolor="#8b5cf6"
        fontsize="9"
    ]
    
    step3b [
        label="ðŸ“ -des ADR\nadr-generator"
        fillcolor="#14b8a6"
        fontsize="9"
    ]

    // ============================================
    // STEP 4: PLAN INFRASTRUCTURE
    // ============================================
    step4 [
        label="4. Plan Infrastructure\nbicep-plan"
        fillcolor="#10b981"
        width="2.0"
    ]
    
    step4opt [
        label="ðŸ”’ Governance\nAzure Policy"
        fillcolor="#06b6d4"
        fontsize="9"
    ]

    // ============================================
    // STEP 5: CODE GENERATION
    // ============================================
    step5 [
        label="5. Generate Code\nbicep-implement"
        fillcolor="#ec4899"
        width="2.0"
    ]

    // ============================================
    // STEP 6: DEPLOY
    // ============================================
    step6 [
        label="6. Deploy\nDeploy Agent"
        fillcolor="#f4722b"
        width="2.0"
    ]

    // ============================================
    // STEP 7: AS-BUILT ARTIFACTS (Optional)
    // ============================================
    step7 [
        label="7. As-Built Artifacts\n(optional)"
        fillcolor="#f4722b"
        width="2.0"
        style="filled,rounded,dashed"
    ]
    
    step7a [
        label="ðŸ“Š -ab diagram\ndiagram-generator"
        fillcolor="#8b5cf6"
        fontsize="9"
    ]
    
    step7b [
        label="ðŸ“ -ab ADR\nadr-generator"
        fillcolor="#14b8a6"
        fontsize="9"
    ]

    // ============================================
    // MAIN FLOW (solid arrows)
    // ============================================
    step1 -> step2 [color="#0078D4" penwidth="2.5"]
    step2 -> step3 [color="#FF6B35" style="dashed" penwidth="2"]
    step2 -> step4 [color="#FF6B35" penwidth="2.5"]
    step3 -> step4 [color="#8b5cf6" style="dashed" penwidth="2"]
    step4 -> step5 [color="#10b981" penwidth="2.5"]
    step5 -> step6 [color="#ec4899" style="dashed" penwidth="2"]

    // ============================================
    // OPTIONAL CONNECTIONS (dashed arrows)
    // ============================================
    // Step 3 optional tools
    step3a -> step3 [style="dashed" color="#8b5cf6" dir="back"]
    step3b -> step3 [style="dashed" color="#14b8a6" dir="back"]
    
    // Step 4 governance
    step4opt -> step4 [style="dashed" color="#06b6d4" dir="back"]
    
    // Step 6 optional tools
    step6a -> step6 [style="dashed" color="#8b5cf6" dir="back"]
    step6b -> step6 [style="dashed" color="#14b8a6" dir="back"]

    // ============================================
    // LAYOUT HINTS
    // ============================================
    { rank=same; step3a; step3b }
    { rank=same; step4opt }
    { rank=same; step6a; step6b }
    
    // Invisible edges for vertical alignment
    step3a -> step3b [style="invis"]
    step6a -> step6b [style="invis"]
}
